# Legal Analyzer 新布局设计

## 布局改进总结

### 1. 案例标题 - 单独突出显示

**改进前：**
- 标题与其他信息混在一起
- 不够突出

**改进后：**
- 案例标题单独显示在页面顶部
- 使用更大的字体和居中对齐
- 独立的卡片容器，更加突出

```html
<div class="card" style="margin-bottom: 16px;">
    <div class="card-header" style="font-size: 1.8rem; text-align: center; border-bottom: none;">
        {案例标题}
    </div>
</div>
```

### 2. 案例信息 - 简化显示

**改进前：**
- 4个指标占用过多空间
- 信息过于详细

**改进后：**
- 只显示3个最重要的指标
- 使用更小的字体和紧凑的布局
- 减少视觉干扰

### 3. 文件管理模块 - 缩小并列

**改进前：**
- 文件管理占用大量空间
- 布局不够紧凑

**改进后：**
- 文件上传和文件列表分为两个小模块
- 左右并列布局，节省空间
- 使用更紧凑的样式和更小的字体
- 简化按钮文字和提示信息

**文件上传模块：**
- 简化文件列表显示
- 使用更小的背景色块
- 简化按钮文字："上传文件"
- 简化提示信息

**文件列表模块：**
- 使用绿色背景区分已上传文件
- 紧凑的列表显示
- 简化标题："已上传："

### 4. AI问答模块 - 加大突出

**改进前：**
- 问答区域不够突出
- 功能按钮较少

**改进后：**
- 问答区域占据主要空间
- 更大的输入框（150px高度）
- 更详细的占位符文本
- 三个功能按钮：提交问题、清空问题、查看历史
- 独立的标题区域

**新增功能：**
- "查看历史"按钮：可以切换显示完整历史记录
- 更大的输入框：提供更好的输入体验
- 更详细的占位符：提供更多示例

### 5. 历史记录 - 无感展示

**改进前：**
- 历史记录占用大量空间
- 总是显示完整历史

**改进后：**
- 默认只显示最近3条对话的简化版本
- 使用半透明背景，无感展示
- 只显示时间戳和问题摘要
- 可选的完整历史查看功能

**简化历史记录特点：**
- 只显示最新3条对话
- 只显示时间戳和问题摘要（前50字符）
- 使用半透明背景，不干扰主要内容
- 紧凑的布局设计

## 视觉设计改进

### 1. 色彩搭配
- **蓝色主题**：主要使用 #3498db 作为主色调
- **绿色**：用于已上传文件的标识
- **半透明背景**：减少视觉干扰

### 2. 字体大小层次
- **标题**：1.8rem（案例标题）
- **子标题**：1.4rem（AI问答）
- **模块标题**：1.2rem（文件管理）
- **正文**：0.9rem（指标标签）
- **小字**：0.8rem（文件列表）

### 3. 间距和布局
- **紧凑布局**：减少不必要的空白
- **合理分组**：相关功能放在一起
- **视觉层次**：通过大小和颜色区分重要性

## 用户体验改进

### 1. 信息层次
- **最重要**：案例标题和AI问答
- **次要**：文件管理功能
- **辅助**：历史记录和状态信息

### 2. 交互优化
- **一键操作**：简化的按钮文字
- **即时反馈**：简化的成功/失败提示
- **可选功能**：历史记录可选择性显示

### 3. 空间利用
- **垂直空间**：AI问答占据主要空间
- **水平空间**：文件管理模块并列显示
- **底部空间**：历史记录无感展示

## 技术实现

### 1. CSS样式优化
```css
/* 紧凑的指标容器 */
.metric-container {
    padding: 12px;
    font-size: 1.5rem;
}

/* 简化的文件列表 */
.file-item {
    padding: 6px 8px;
    font-size: 0.8rem;
    border-radius: 4px;
}
```

### 2. 响应式设计
- 文件管理模块在小屏幕上自动堆叠
- 按钮区域自适应调整
- 历史记录在不同屏幕尺寸下保持可读性

### 3. 状态管理
- 使用 `st.session_state` 管理历史记录显示状态
- 支持切换完整历史和简化历史
- 保持用户操作状态

## 使用流程

### 1. 案例页面访问
1. 点击侧边栏的案例标题
2. 查看案例标题和基本信息
3. 上传文件或查看已上传文件

### 2. 文件管理
1. 在左侧上传新文件
2. 在右侧查看已上传文件
3. 文件上传后自动刷新页面

### 3. AI问答
1. 在主要区域输入问题
2. 点击"提交问题"获取回答
3. 可选择查看完整历史记录

### 4. 历史记录
1. 默认显示最近3条对话的简化版本
2. 点击"查看历史"显示完整历史
3. 再次点击隐藏完整历史

## 兼容性

- 支持所有现代浏览器
- 响应式设计适配不同屏幕尺寸
- 保持原有功能的完整性
- 向后兼容现有的数据格式 